<h3>Files Management</h3>
<div class='well well-lg'>
  <div class="row">
    <div class="col-md-5">
      <table>
        <thead>
          <td>Category</td>
          <td>Collection</td>
          <td>Patient/Sample Size</td>
        </thead>
        <tbody class="form-group row" *ngFor="let file of files$ | async">
          <tr>
            <td><span class="detail-users">{{file.category}}</span></td>
            <td><span class="detail-users">{{file.collection}}</span></td>
            <td><span class="detail-users">{{file.DataType}}</span></td>
            <div *ngIf="file.category === 'clinical'"><td><span class="detail-users">{{file.patients.length}}</span></td></div>
            <div *ngIf="file.category === 'molecular'">
              <td><span class="detail-users">{{file.CNV.patients.length}}</span></td>
            </div>
          </tr>
        </tbody>
      </table>
    </div>
     <!--<div ng2FileDrop
                 [ngClass]="{'nv-file-over': hasBaseDropZoneOver}"
                 (fileOver)="fileOverBase($event)"
                 [uploader]="uploader"
                 class="well my-drop-zone">
                Base drop zone
            </div>-->
    <input type="file" class="form-control col-md-5" name="single" 
                        ng2FileSelect [uploader]="uploader"/>
    <div class="col-md-8" *ngIf = "uploader?.queue?.length > 0">
      <!--Queue length: {{ uploader?.queue?.length }}-->
      
      <table class="table">
        <thead>
          <tr>
            <th width="70%">Name</th>
            <th>Type</th>
            <!--<th>Category</th>
            <th>Datatype</th>-->
            <th>Size</th>
            <th>Progress</th>
            <!--<th>Status</th>-->
            <!--<th>What's in item</th>-->
            <!--<th>Actions</th>-->
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of uploader.queue" >
            <td><strong>{{ item.file.name }}</strong></td>
            <td><strong>{{ item.file.type }}</strong></td>
            <td nowrap>{{ item.file.size/1024/1024 | number:'.2' }} MB</td>
            <!--<td>
              <div class="progress" style="margin-bottom: 0;">
                <div class="progress-bar" role="progressbar" [ngStyle]="{ 'width': item.progress + '%' }"></div>
              </div>
            </td>-->
            
            
            <td nowrap>
              <button type="button" class="btn btn-success btn-xs" (click)="item.upload()" (click)="updateStatus()" [disabled]="item.isReady || item.isUploading || item.isSuccess">
                                            <span class="glyphicon glyphicon-upload"></span> {{uploaded}}
                                        </button>
            </td>
            <td class="text-center">
               <span *ngIf="item.isSuccess"><i class="glyphicon glyphicon-ok"></i></span>
                <span *ngIf="item.isCancel"><i class="glyphicon glyphicon-ban-circle"></i></span>
                <span *ngIf="item.isError"><i class="glyphicon glyphicon-remove"></i></span>
              </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
