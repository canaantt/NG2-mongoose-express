<h3>Files Management</h3>
<div class='well well-lg'>
  <div class="row">
    <div class="col-md-12" *ngIf="project.File">
      <label>Existing File meta data</label>
      <button type="button" class="btn btn-danger btn-xs" (click)="removeAllFiles()">
          <span class="glyphicon glyphicon-minor"></span>Remove
      </button>
      <table>
        <thead>
          <td>File Name</td>
          <td>Size</td>
          <td>Timestamp</td>
        </thead>
        <tbody>
          <td>{{project.File.filename}}</td>
          <td>{{project.File.size}}</td>
          <td>{{project.File.timestamp}}</td>
        </tbody>
      </table>
      <hr>
    </div>
    <div class="col-md-12" *ngIf="hasFiles">
      <label>File summary</label>
      
      <table>
         <thead>
          <td>Clinical Sheet Name</td>
          <td>Patient Size</td>
          <td>Sample Size</td>
         </thead>
         <tbody class="form-group row" *ngFor="let sum of uploadStatus.uploadSummaryClinical">
            <tr>
              <td><span>{{sum.sheet}}</span></td>  
              <td><span *ngIf="sum.patients">{{sum.patients.length}}</span></td>
              <td><span *ngIf="sum.samples">{{sum.samples.length}}</span></td>
            </tr>
          </tbody>
      </table>
      <hr>
      <table>
         <thead>
          <td>Molecular Sheet Name</td>
          <td>Sample Size</td>
          <td>Biomarker Size</td>
         </thead>
         <tbody class="form-group row" *ngFor="let sum of uploadStatus.uploadSummaryMolecular">
            <tr>
              <td><span>{{sum.sheet}}</span></td>  
              <td><span *ngIf="sum.samples">{{sum.samples.length}}</span></td>
              <td><span *ngIf="sum.markers">{{sum.markers.length}}</span></td>
            </tr>
          </tbody>
      </table>

    </div>
    <input #fileInput type="file" class="form-control col-md-5" name="single" 
                        ng2FileSelect [uploader]="uploader"/>
    
    <div class="col-md-8" *ngIf = "uploader?.queue?.length > 0">
      <!--Queue length: {{ uploader?.queue?.length }}-->
      <table class="table">
        <!-- <thead>
          <tr>
            <th width="70%">Name</th>
            <th>Type</th>
            <th>Size</th>
            <th>Progress</th>
          </tr>
        </thead> -->
        <tbody>
          <tr *ngFor="let item of uploader.queue" >
            <!-- <td><strong>{{ item.file.name }}</strong></td>
            <td><strong>{{ item.file.type }}</strong></td>
            <td nowrap>{{ item.file.size/1024/1024 | number:'.2' }} MB</td>     -->
            <td nowrap>
              <button type="button" class="btn btn-success btn-xs"  (click)="updateStatus(item)" [disabled]="projectValidChecking()">
                                            <span class="glyphicon glyphicon-upload"></span> {{uploadedstring}}
                                        </button>
              <button type="button" class="btn btn-warning btn-xs"  (click)="cancelUpdate(item)" [disabled]="uploadedstring === 'Uploaded'">
                                            <span class="glyphicon glyphicon-ban-circle"></span> Cancel Update
                                        </button>
            </td>
            <td class="text-center">
               <span *ngIf="item.isSuccess"><i class="glyphicon glyphicon-ok"></i></span>
               <span *ngIf="item.isCancel"><i class="glyphicon glyphicon-ban-circle"></i></span>
               <span *ngIf="item.isError"><i class="glyphicon glyphicon-remove"></i></span>
              </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>